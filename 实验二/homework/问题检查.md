# PPT相关内容

* 什么是实模式，什么是保护模式？
  * 段基址：段偏移量
  * 实模式：段基址由段寄存器提供，段偏移量由通用寄存器提供，物理地址等于段基址左移4位后和段偏移量相加的结果。
  * 保护模式：段偏移量同上，段寄存器存放的是全局描述符表（GDT）的选择子，CPU从相应的描述符中得到段基址。
* 什么是选择子？
  * 选择子“基本上”是个索引值。
  * 0~1位用来存储RPL表示请求特权级，2位用来表示选择子是GDT还是LDT的索引描述符，3~15位是描述符的索引值。
* 什么是描述符？
  * 描述符存放了内存段的属性信息，如段基址、段界限、内存段类型属性等
  * ![img](https://pic4.zhimg.com/80/v2-1a08d48367745c2870e8818b7881b373_1440w.jpg)
* 什么是GDT，什么是LDT?
  * GDT：全局描述符表，在整个系统中只有一张。通过GDTR访问。
  * LDT：局部描述符表，在整个系统中可以有很多张。LDT的描述符存放在GDT中。
* 请分别说明GDTR和LDTR的结构。
  * GDTR：32位的基地址和16位的表界限。
  * ![img](https://img-blog.csdn.net/20141001143328140)
  * LDTR：当前LDT的选择子。
* 请说明GDT直接查找物理地址的具体步骤。
  * 从GDTR中获得GDT基址；
  * 根据段选择子中的索引值在GDT中获得段描述符；
  * 从段描述符中获得段基址，和段偏移量相加得到线性地址
  * 若分页，线性地址再一次转化获得物理地址；若未分页，线性地址即为物理地址。
* 请说明通过LDT查找物理地址的具体步骤。
  * 从GDTR中获得GDT基址；
  * 从LDTR中获得LDT选择子
  * 根据LDT选择子在GDT中获得LDT段描述符从而获得LDT基址
  * 根据段选择子中的索引值在LDT中获得段描述符；
  * 从段描述符中获得段基址，和段偏移量相加得到线性地址
  * 若分页，线性地址再一次转化获得物理地址；若未分页，线性地址即为物理地址。
* 根目录区大小一定么？扇区号是多少？为什么？
  * 大小非固定
  * 扇区号 = 1（引导扇区） + FAT数量 * FAT扇区数
* 数据区第一个簇号是多少？为什么？
  * 数据区起始于簇2
  * 在1.44M软盘上，FAT前三个字节的值是固定的0xF0、0xFF、0xFF，用于表示这是一个应用在1.44M软盘上的FAT12文件系统。
* FAT表的作用？
  * 用来记录文件所在位置的表格；记录下一簇的地址。
* 解释静态链接的过程。
  * 在编译阶段直接把静态库加入到可执行文件中去，这样可执行文件会比较大。
* 解释动态链接的过程。
  * 动态链接则是指链接阶段仅仅只加入一些描述信息，而程序执行时再从系统中把相应动态库加载到内存中去。
* 静态链接相关PPT中为什么使用ld链接而不是gcc
  * gcc为ld提供了一些默认选项。
  * https://www.jb51.cc/linux/440207.html
* **linux下可执行文件的虚拟地址空间默认从哪里开始分配。**

# 实验相关内容（代码）

* BPB指定字段的含义
  * 看代码
* 如何进入子目录并输出（说明方法调用）
  * Node类
* **如何获得指定文件的内容，即如何获得数据区的内容（比如使用指针等**）
* 如何进行C代码和汇编之间的参数传递和返回值传递
  * 栈
* 汇编代码对I/O的处理方式，说明指定寄存器所存值的含义
  * eax，ebx，ecx和edx各自的含义
  * 起始地址
  * 长度
  * 模式